(this["webpackJsonpreact-popup"]=this["webpackJsonpreact-popup"]||[]).push([[0],{26:function(e,t,r){},27:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);r(26),r(27);var n=r(1),s=r.n(n),c=r(18),i=r.n(c),a=r(7),o=r(4),l=r(19),h=r(24),u=r(22),d=r(20),m=r.n(d),j=r(21),f=r(0),x=function(e){var t=e.theme,r=e.refreshHandler,n=e.errMsg;return Object(f.jsx)("div",{className:"light"===t?"h-screen flex items-center justify-center fixed view bg-white text-center":"h-screen flex items-center justify-center fixed view bg-black text-center",children:Object(f.jsxs)("div",{className:"light"===t?"flex flex-col items-center justify-center text-black":"flex flex-col items-center justify-center text-white",children:[Object(f.jsxs)("h1",{children:["Oops, ",n]}),Object(f.jsx)("button",{className:"bg-blue-500 px-2 py-1 rounded-2xl mt-1 text-white outline-none focus:outline-none mt-3",onClick:r,children:"Refresh"})]})})},b=function(e){var t=e.i,r=e.name,n=e.tweet_volume,s=e.theme,c=e.url;var i="card px-3 py-2 cursor-pointer";return n&&"light"===s&&(i="card px-3 py-2 cursor-pointer hover:card-light-mode-hover"),n&&"dark"===s&&(i="card px-3 py-2 cursor-pointer hover:card-dark-mode-hover"),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:i,onClick:function(){return function(e){chrome.tabs.create({url:e,active:!0})}(c)},children:[Object(f.jsxs)("small",{className:"light"===s?"opacity-75 text-black":"opacity-50 text-gray-100",children:[t+1," . Trending"]}),Object(f.jsx)("p",{className:"light"===s?"font-bold my-1 text-black":"font-bold my-1 text-white",children:r}),n&&Object(f.jsxs)("small",{className:"light"===s?"opacity-75 text-black":"opacity-50 text-gray-100",children:[function(e){var t=e;if(e>=1e3){for(var r=Math.floor((""+e).length/3),n="",s=2;s>=1;s--){if(((n=parseFloat((0!==r?e/Math.pow(1e3,r):e).toPrecision(s)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!==0&&(n=n.toFixed(1)),t=n+["","K","M","B","T"][r]}return t}(n)," tweets"]})]}),Object(f.jsx)("hr",{})]})},g=function(e){var t=e.theme;return Object(f.jsx)("div",{className:"light"===t?"h-screen flex items-center justify-center fixed loader-ctn bg-white":"h-screen flex items-center justify-center fixed loader-ctn bg-black",children:Object(f.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(f.jsx)("div",{className:"loader"})})})},p=r(70),v=r(71),O=r(23),y=r(69),w=function(e){var t=e.theme,r=Object(n.useState)(""),s=Object(O.a)(r,2),c=s[0],i=s[1];return Object(f.jsxs)("form",{className:"light"===t?"flex items-center justify-between px-3 py-2 rounded-3xl bg-gray-200":"flex items-center justify-between px-3 py-2 rounded-3xl searchbar-darkmode",style:{width:"85%"},onSubmit:function(e){e.preventDefault();var t=c.split(" ").join("%20");chrome.tabs.create({url:"https://twitter.com/search?q=".concat(t,"&src=typed_query"),active:!0}),i("")},children:[Object(f.jsx)(y.a,{className:"text-gray-600",size:"17"}),Object(f.jsx)("input",{type:"text",className:"light"===t?"bg-transparent outline-none text-sm text-black":"bg-transparent outline-none text-sm text-white",placeholder:"Search Twitter",style:{width:"88%"},onChange:function(e){return i(e.target.value)}})]})},k=function(e){var t=e.theme,r=e.setThemeHandler;return Object(f.jsxs)("nav",{className:"light"===t?"flex items-center justify-between px-3 bg-white z-10":"flex items-center justify-between px-3 bg-black z-10",children:[Object(f.jsx)(w,{theme:t}),"dark"===t&&Object(f.jsx)("span",{className:"p-2 rounded-full cursor-pointer",title:"Light mode",children:Object(f.jsx)(p.a,{className:"cursor-pointer text-blue-500",size:"25",onClick:function(){return r("light")}})}),"light"===t&&Object(f.jsx)("span",{className:"p-2 rounded-full cursor-pointer",title:"Dark mode",children:Object(f.jsx)(v.a,{className:"text-black",size:"25",onClick:function(){return r("dark")}})})]})},N=r(5),L=function(){return!1}?new function e(){Object(o.a)(this,e),this.getItem=function(e){return Promise.resolve(localStorage.getItem(e))},this.setItem=function(e,t){return Promise.resolve(localStorage.setItem(e,t))}}:new function e(){Object(o.a)(this,e),this.getItem=function(e){return new Promise((function(t,r){chrome.storage.sync.get([e],(function(e){return t(Object.values(e)[0])}))}))},this.setItem=function(e,t){return Promise.resolve(chrome.storage.sync.set(Object(N.a)({},e,t)))}},S=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).getDefaultLocationTrends=function(){if(e.setState({error:!1,errMsg:""}),!navigator.onLine)return e.setState({error:!0,isLoading:!1,errMsg:"Network error"});navigator.geolocation.getCurrentPosition((function(t,r){if(t){var n=t.coords.latitude,s=t.coords.longitude;return m.a.post("".concat("https://trending-ext-server.herokuapp.com","/"),{lat:n,long:s}).then((function(t){var r=t.data;r.success&&e.setState({trends:r.data[0].trends,trendsLocation:r.location,isLoading:!1}),r.error&&e.setState({error:!0,isLoading:!1,errMsg:r.msg})})).catch((function(t){t&&e.setState({error:!0,isLoading:!1,errMsg:"Network error"})}))}if(r)return e.setState({error:!0,isLoading:!1,errMsg:"Network error"})}))},e.setThemeHandler=function(t){e.setState({theme:t}),L.setItem("theme",t)},e.refreshHandler=function(){e.setState({error:!1,isLoading:!0,errMsg:""}),e.getDefaultLocationTrends()},e.state={isDefaultLocation:!0,theme:"light",trends:[],trendsLocation:null,isLoading:!0,error:!1,errMsg:""},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;navigator.onLine?this.getDefaultLocationTrends():this.setState({error:!0,isLoading:!1}),L.getItem("theme").then((function(t){null===t?e.setState({theme:"light"}):e.setState({theme:t})}))}},{key:"render",value:function(){var e=this.state,t=e.theme,r=e.trends,n=e.trendsLocation,s=e.isLoading,c=e.error,i=e.errMsg;return s?Object(f.jsx)(g,{theme:t}):c?Object(f.jsx)(x,{theme:t,refreshHandler:this.refreshHandler,errMsg:i}):Object(f.jsxs)("div",{className:"light"===t?"bg-white py-1 px-1 overflow-hidden app":"bg-black py-1 px-1 overflow-hidden app",children:[Object(f.jsx)(k,{theme:t,setThemeHandler:this.setThemeHandler}),Object(f.jsx)(j.Scrollbars,{autoHeight:!0,autoHeightMin:608,children:Object(f.jsxs)("div",{className:"light"===t?"list-group rounded-2xl bg-gray-200":"list-group rounded-2xl list-group-bg-darkmode",children:[Object(f.jsx)("div",{className:"flex items-center justify-between px-3 py-2 select-none",children:Object(f.jsxs)("h1",{className:"light"===t?"font-bold text-black":"font-bold text-white",children:[n," trends"]})}),Object(f.jsx)("hr",{}),r.map((function(e,r){return Object(f.jsx)(b,Object(a.a)(Object(a.a)({},e),{},{i:r,theme:t}),r)})),Object(f.jsx)("div",{className:"px-3 py-5"})]})})]})}}]),r}(n.Component);i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.5228eed5.chunk.js.map