{"version":3,"sources":["components/ErrorPage.js","components/ListCard.js","components/Loader.js","components/SearchBar.js","components/NavBar.js","utils/storage.js","App.js","index.js"],"names":["ErrorPage","theme","refreshHandler","errMsg","className","onClick","ListCard","i","name","tweet_volume","url","cardClasses","chrome","tabs","create","active","openPageHandler","value","newValue","suffixNum","Math","floor","length","shortValue","precision","parseFloat","pow","toPrecision","replace","toFixed","abbreviateNumber","Loader","SearchBar","useState","keyword","setKeyword","style","width","onSubmit","e","preventDefault","searchKey","split","join","size","type","placeholder","onChange","target","NavBar","setThemeHandler","title","isDevelopment","process","getItem","key","Promise","resolve","localStorage","setItem","reject","storage","sync","get","result","Object","values","set","App","getDefaultLocationTrends","setState","error","navigator","onLine","isLoading","geolocation","getCurrentPosition","location","err","lat","coords","latitude","long","longitude","axios","post","then","data","success","trends","trendsLocation","msg","catch","state","isDefaultLocation","this","autoHeight","autoHeightMin","map","trend","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5228eed5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ErrorPage = ({ theme, refreshHandler, errMsg }) => {\r\n  return (\r\n    <div\r\n      className={\r\n        theme === 'light'\r\n          ? 'h-screen flex items-center justify-center fixed view bg-white text-center'\r\n          : 'h-screen flex items-center justify-center fixed view bg-black text-center'\r\n      }>\r\n      <div\r\n        className={\r\n          theme === 'light'\r\n            ? 'flex flex-col items-center justify-center text-black'\r\n            : 'flex flex-col items-center justify-center text-white'\r\n        }>\r\n        <h1>Oops, {errMsg}</h1>\r\n        <button\r\n          className=\"bg-blue-500 px-2 py-1 rounded-2xl mt-1 text-white outline-none focus:outline-none mt-3\"\r\n          onClick={refreshHandler}>\r\n          Refresh\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorPage\r\n","/* global chrome */\r\nimport React from 'react'\r\n\r\nconst ListCard = ({ i, name, tweet_volume, theme, url }) => {\r\n  function openPageHandler(url) {\r\n    chrome.tabs.create({ url, active: true })\r\n  }\r\n\r\n  function abbreviateNumber(value) {\r\n    var newValue = value\r\n    if (value >= 1000) {\r\n      var suffixes = ['', 'K', 'M', 'B', 'T']\r\n      var suffixNum = Math.floor(('' + value).length / 3)\r\n      var shortValue = ''\r\n      for (var precision = 2; precision >= 1; precision--) {\r\n        shortValue = parseFloat((suffixNum !== 0 ? value / Math.pow(1000, suffixNum) : value).toPrecision(precision))\r\n        var dotLessShortValue = (shortValue + '').replace(/[^a-zA-Z 0-9]+/g, '')\r\n        if (dotLessShortValue.length <= 2) {\r\n          break\r\n        }\r\n      }\r\n      if (shortValue % 1 !== 0) shortValue = shortValue.toFixed(1)\r\n      newValue = shortValue + suffixes[suffixNum]\r\n    }\r\n    return newValue\r\n  }\r\n\r\n  let cardClasses = 'card px-3 py-2 cursor-pointer'\r\n\r\n  if (tweet_volume && theme === 'light') {\r\n    cardClasses = 'card px-3 py-2 cursor-pointer hover:card-light-mode-hover'\r\n  }\r\n  if (tweet_volume && theme === 'dark') {\r\n    cardClasses = 'card px-3 py-2 cursor-pointer hover:card-dark-mode-hover'\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={cardClasses} onClick={() => openPageHandler(url)}>\r\n        <small className={theme === 'light' ? 'opacity-75 text-black' : 'opacity-50 text-gray-100'}>\r\n          {i + 1} . Trending\r\n        </small>\r\n        <p className={theme === 'light' ? 'font-bold my-1 text-black' : 'font-bold my-1 text-white'}>{name}</p>\r\n        {tweet_volume && (\r\n          <small className={theme === 'light' ? 'opacity-75 text-black' : 'opacity-50 text-gray-100'}>\r\n            {abbreviateNumber(tweet_volume)} tweets\r\n          </small>\r\n        )}\r\n      </div>\r\n      <hr />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ListCard\r\n","import React from 'react'\r\n\r\nconst Loader = ({ theme }) => {\r\n  return (\r\n    <div\r\n      className={\r\n        theme === 'light'\r\n          ? 'h-screen flex items-center justify-center fixed loader-ctn bg-white'\r\n          : 'h-screen flex items-center justify-center fixed loader-ctn bg-black'\r\n      }>\r\n      <div className=\"flex flex-col items-center justify-center\">\r\n        <div className=\"loader\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","/* global chrome */\r\nimport React, { useState } from 'react'\r\nimport { Search } from 'react-feather'\r\n\r\nconst SearchBar = ({ theme }) => {\r\n  const [keyword, setKeyword] = useState('')\r\n\r\n  function searchSubmitHandler(e) {\r\n    e.preventDefault()\r\n    const searchKey = keyword.split(' ').join('%20')\r\n    chrome.tabs.create({ url: `https://twitter.com/search?q=${searchKey}&src=typed_query`, active: true })\r\n    setKeyword('')\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className={\r\n        theme === 'light'\r\n          ? 'flex items-center justify-between px-3 py-2 rounded-3xl bg-gray-200'\r\n          : 'flex items-center justify-between px-3 py-2 rounded-3xl searchbar-darkmode'\r\n      }\r\n      style={{ width: '85%' }}\r\n      onSubmit={searchSubmitHandler}>\r\n      <Search className=\"text-gray-600\" size=\"17\" />\r\n      <input\r\n        type=\"text\"\r\n        className={\r\n          theme === 'light'\r\n            ? 'bg-transparent outline-none text-sm text-black'\r\n            : 'bg-transparent outline-none text-sm text-white'\r\n        }\r\n        placeholder=\"Search Twitter\"\r\n        style={{ width: '88%' }}\r\n        onChange={(e) => setKeyword(e.target.value)}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchBar\r\n","import React from 'react'\r\nimport { Moon, Sun } from 'react-feather'\r\n\r\nimport SearchBar from './SearchBar'\r\n\r\nconst NavBar = ({ theme, setThemeHandler }) => {\r\n  return (\r\n    <nav\r\n      className={\r\n        theme === 'light'\r\n          ? 'flex items-center justify-between px-3 bg-white z-10'\r\n          : 'flex items-center justify-between px-3 bg-black z-10'\r\n      }>\r\n      <SearchBar theme={theme} />\r\n      {theme === 'dark' && (\r\n        <span className=\"p-2 rounded-full cursor-pointer\" title=\"Light mode\">\r\n          <Sun className=\"cursor-pointer text-blue-500\" size=\"25\" onClick={() => setThemeHandler('light')} />\r\n        </span>\r\n      )}\r\n      {theme === 'light' && (\r\n        <span className=\"p-2 rounded-full cursor-pointer\" title=\"Dark mode\">\r\n          <Moon className=\"text-black\" size=\"25\" onClick={() => setThemeHandler('dark')} />\r\n        </span>\r\n      )}\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","/* global chrome */\n\nclass LocalStorage {\n  getItem = (key) => Promise.resolve(localStorage.getItem(key))\n  setItem = (key, value) => Promise.resolve(localStorage.setItem(key, value))\n}\n\nclass ChromeStorage {\n  getItem = (key) => {\n    return new Promise((resolve, reject) => {\n      chrome.storage.sync.get([key], function (result) {\n        return resolve(Object.values(result)[0])\n      })\n    })\n  }\n\n  setItem = (key, value) => Promise.resolve(chrome.storage.sync.set({ [key]: value }))\n}\n\nconst isDevelopment = () => process.env.NODE_ENV !== 'production'\n\nexport default isDevelopment ? new LocalStorage() : new ChromeStorage()\n","import axios from 'axios'\nimport React, { Component } from 'react'\nimport { Scrollbars } from 'react-custom-scrollbars'\n\nimport ErrorPage from './components/ErrorPage'\nimport ListCard from './components/ListCard'\nimport Loader from './components/Loader'\nimport NavBar from './components/NavBar'\nimport storage from './utils/storage'\n\nconst SERVER = 'https://trending-ext-server.herokuapp.com'\n\nexport default class App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      isDefaultLocation: true,\n      theme: 'light',\n      trends: [],\n      trendsLocation: null,\n      isLoading: true,\n      error: false,\n      errMsg: ''\n    }\n  }\n\n  componentDidMount() {\n    if (navigator.onLine) {\n      this.getDefaultLocationTrends()\n    } else {\n      this.setState({ error: true, isLoading: false })\n    }\n\n    // Check user theme preference\n    storage.getItem('theme').then((theme) => {\n      if (theme === null) {\n        this.setState({ theme: 'light' })\n      } else {\n        this.setState({ theme })\n      }\n    })\n  }\n\n  getDefaultLocationTrends = () => {\n    this.setState({ error: false, errMsg: '' })\n    if (!navigator.onLine) {\n      return this.setState({ error: true, isLoading: false, errMsg:'Network error' })\n    }\n    navigator.geolocation.getCurrentPosition((location, err) => {\n      if (location) {\n        const lat = location.coords.latitude\n        const long = location.coords.longitude\n\n        return axios\n          .post(`${SERVER}/`, { lat, long })\n          .then(({ data }) => {\n            if (data.success) {\n              this.setState({ trends: data.data[0].trends, trendsLocation: data.location, isLoading: false })\n            }\n            if (data.error) {\n              this.setState({ error: true, isLoading: false, errMsg: data.msg })\n            }\n          })\n          .catch((err) => {\n            if (err) {\n              this.setState({ error: true, isLoading: false, errMsg: 'Network error' })\n            }\n          })\n      }\n\n      if (err) {\n        return this.setState({ error: true, isLoading: false, errMsg: 'Network error' })\n      }\n    })\n  }\n\n  setThemeHandler = (theme) => {\n    this.setState({ theme })\n    storage.setItem('theme', theme)\n  }\n\n  refreshHandler = () => {\n    this.setState({ error: false, isLoading: true, errMsg: '' })\n    this.getDefaultLocationTrends()\n  }\n\n  render() {\n    const { theme, trends, trendsLocation, isLoading, error, errMsg } = this.state\n    if (isLoading) {\n      return <Loader theme={theme} />\n    }\n    if (error) {\n      return <ErrorPage theme={theme} refreshHandler={this.refreshHandler} errMsg={errMsg} />\n    }\n    return (\n      <div\n        className={\n          theme === 'light' ? 'bg-white py-1 px-1 overflow-hidden app' : 'bg-black py-1 px-1 overflow-hidden app'\n        }>\n        <NavBar theme={theme} setThemeHandler={this.setThemeHandler} />\n        <Scrollbars autoHeight autoHeightMin={608}>\n          <div\n            className={\n              theme === 'light' ? 'list-group rounded-2xl bg-gray-200' : 'list-group rounded-2xl list-group-bg-darkmode'\n            }>\n            <div className=\"flex items-center justify-between px-3 py-2 select-none\">\n              <h1 className={theme === 'light' ? 'font-bold text-black' : 'font-bold text-white'}>\n                {trendsLocation} trends\n              </h1>\n            </div>\n            <hr />\n            {trends.map((trend, i) => (\n              <ListCard key={i} {...trend} i={i} theme={theme} />\n            ))}\n            <div className=\"px-3 py-5\" />\n          </div>\n        </Scrollbars>\n      </div>\n    )\n  }\n}\n","import './assets/scss/style.css'\nimport './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}